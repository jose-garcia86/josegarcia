{% extends "base.html"%} {% block content %}
<div class="container">
    <header class="section-header">
        <h1 class="section-title">{{section.title}}</h1>
    </header>

    <div class="posts-list">
        {% if section.subsections %} {# If this is the main articles section
        with subsections (posts and featured) #} {% set_global all_articles = []
        %} {% for subsection_path in section.subsections %} {% set subsection =
        get_section(path=subsection_path) %} {% set_global all_articles =
        all_articles | concat(with=subsection.pages) %} {% endfor %} {%
        set_global all_articles = all_articles | sort(attribute="date") |
        reverse %} {% else %} {# This is a leaf section (posts or featured),
        just use its pages #} {% set_global all_articles = section.pages %} {%
        endif %} {% for page in all_articles %}
        <article class="post-item">
            <div class="post-meta">
                <time class="post-date"
                    >{{ page.date | date(format="%B %d, %Y") }}</time
                >
            </div>
            <h2 class="post-title">
                <a href="{{ page.permalink }}">{{ page.title }}</a>
            </h2>
            {% if page.summary %}
            <p class="post-excerpt">{{ page.summary }}</p>
            {% elif page.description %}
            <p class="post-excerpt">{{ page.description }}</p>
            {% endif %}
        </article>
        {% endfor %}
    </div>
</div>
{% endblock content %}
